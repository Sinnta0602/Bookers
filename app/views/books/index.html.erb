<!DOCTYPE html>
<html>
<body>
  
    <% flash.each do |message_type, message| %>
    <%= message %>
    <% end %>
    
   <p id="notice"></p>
   <h1>Books</h1>
  <table>
   <thead>
    <tr>
      <th>Title</th>
      <th>Body</th>
      <th colspan="3"></th>
    </tr>
  </thead>
<% @books.each do |book| %>
  <tbody>
      <tr>
        
        <td><%= book.title %></td>
        <td><%= book.body %></td>
        <td><%= link_to "Show", book_path(book.id) %></td>
        <td><%= link_to "Edit", edit_book_path(book.id) %></td>
        <td><%= link_to "Destroy", book_path(book.id), method: :delete  %></td>
        
        
        <!--<td><a class="show href="/books/">Show</a></td>-->
        <!--<td><a class="edit href="/books/edit">Edit</a></td>-->
        <!--<td><a data-confirm="Are you sure?" class="destroy rel="nofollow" data-method="delete" href="/books">Destroy</a></td>-->
      </tr>
  </tbody>
<% end %>
</table>
<h2>New book</h2>
<%= form_with model: @book, local:true do |f| %>

<%# ここからエラーメッセージ %>
  <% if @book.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@book.errors.count, "error") %> prohibited this product from being saved:</h2>

      <ul>
        <% @book.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <%# ここまでエラーメッセージ %>

  <h4>Title</h4>
  <%= f.text_field :title %>
  <h4>Body</h4>
  <%= f.text_area :body %>
  <%= f.submit 'Create Book' %>
<% end %>
</body>
</html>